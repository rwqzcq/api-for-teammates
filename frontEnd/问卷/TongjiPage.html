<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <meta name="Author" content="Taoist">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <title>问卷统计</title>
    <link href="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="./css/return.css">
    <script src="./js/jquery-1.8.3.min.js"></script>
    <script src="https://cdn.bootcss.com/bootstrap/4.0.0-beta.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/1.0.272/jspdf.debug.js"></script>
    <style>
        *{ margin: 0; padding: 0; font-family:Microsoft yahei,serif;}
        li{ list-style-type:none;}
        a{color:#000;text-decoration:none;}
    </style>
</head>
<body>
    <h2 class="Btitle">食堂调查统计</h2>
    <div class="container-fluid Box" id="ContentBox">
        <ul class="content list-group">
            <!--每一个list-group-item代表一道题目，有single与more两种类型（但是并没有什么区别，名字只是用于区分）-->
            <li class="list-group-item single">
                <!--Cindex为题号，content为内容，Ctype为题目类型-->
                <p class="list-group-item-heading">第<span class="Cindex"> 1 </span>题：<span class="content">你喜欢华师的哪一个食堂？</span><span class="Ctype">[单选题]</span></p>
                <!--dataBox是用于存放每一行的大盒子-->
                <div class="dataBox">
                    <!--datalist为行，每一行有三列（即三个li）-->
                    <ul class="datalist listHead">
                        <!--listFirst与listLast为固定内容（.datalist.list2 .listLast .number为动态内容，存放有效填写人次）-->
                        <li class="listFirst">选项</li>
                        <li class="listFirst">小计</li>
                        <li class="listFirst">比例</li>
                    </ul>
                    <!--.list是用于存放每一个选项的数据-->
                    <!--。list下的class类名listIdenx1、2、3...只是用做区分每个选项，并不影响布局样式-->
                    <ul class="datalist list list1">
                        <li class="listIndex listIndex1">东一</li>
                        <li class="listIndex listIndex1">1</li>
                        <li class="listIndex listIndex1"><span class="bili">16</span>%</li>
                    </ul>
                    <ul class="datalist list list2">
                        <li class="listIndex listIndex2">东二</li>
                        <li class="listIndex listIndex2">2</li>
                        <li class="listIndex listIndex2"><span class="bili">34</span>%</li>
                    </ul>
                    <ul class="datalist list list3">
                        <li class="listIndex listIndex3">学子</li>
                        <li class="listIndex listIndex3">3</li>
                        <li class="listIndex listIndex3"><span class="bili">50</span>%</li>
                    </ul>
                    <ul class="datalist list list4">
                        <li class="listIndex listIndex4">桂香园</li>
                        <li class="listIndex listIndex4">0</li>
                        <li class="listIndex listIndex4"><span class="bili">0</span>%</li>
                    </ul>
                    <!--。listFoot是每个数据表格的底部，用于显示填写人次-->
                    <ul class="datalist listFoot">
                        <li class="listLast">本题有效填写人次</li>
                        <li class="listLast"><span class="number">11</span></li>
                        <li class="listLast"></li>
                    </ul>
                </div>
            </li>
            <li class="list-group-item more">
                <p class="list-group-item-heading">第<span class="Cindex"> 2 </span>题：<span class="content">你最爱吃什么？</span><span class="Ctype">[多选题]</span></p>
                <!--dataBox是用于存放每一行的大盒子-->
                <div class="dataBox">
                    <!--datalist为行，每一行有三列（即三个li）-->
                    <ul class="datalist listHead">
                        <!--listFirst与listLast为固定内容（.datalist.list2 .listLast .number为动态内容，存放有效填写人次）-->
                        <li class="listFirst">选项</li>
                        <li class="listFirst">小计</li>
                        <li class="listFirst">比例</li>
                    </ul>
                    <ul class="datalist list list1">
                        <li class="listIndex listIndex1">东一</li>
                        <li class="listIndex listIndex1">1</li>
                        <li class="listIndex listIndex1"><span class="bili">16</span>%</li>
                    </ul>
                    <ul class="datalist list list2">
                        <li class="listIndex listIndex2">东二</li>
                        <li class="listIndex listIndex2">2</li>
                        <li class="listIndex listIndex2"><span class="bili">34</span>%</li>
                    </ul>
                    <ul class="datalist list list3">
                        <li class="listIndex listIndex3">学子</li>
                        <li class="listIndex listIndex3">3</li>
                        <li class="listIndex listIndex3"><span class="bili">50</span>%</li>
                    </ul>
                    <ul class="datalist listFoot">
                        <li class="listLast">本题有效填写人次</li>
                        <li class="listLast"><span class="number">11</span></li>
                        <li class="listLast"></li>
                    </ul>
                </div>
            </li>
        </ul>
    </div>
    <div class="button">导出为PDF</div>
    <script>
        var $btn = $(".button");
        $btn.click(function () {
            var pdf = new jsPDF('p','pt','a4');
            pdf.internal.scaleFactor = 1;
            var options = {
                pagesplit: true
            };
            var $title = $(".Btitle");
            pdf.addHTML(document.getElementById("ContentBox"),options,function() {
                pdf.save($title.html()+'.pdf');
            });
        });
        var $oLi = $(".list-group-item")
    </script>
</body>
</html>